## Домашнее задание к занятию «Компоненты Kubernetes»

### Задание. Необходимо определить требуемые ресурсы
Известно, что проекту нужны база данных, система кеширования, а само приложение состоит из бекенда и фронтенда. Опишите, какие ресурсы нужны, если известно:

1. Необходимо упаковать приложение в чарт для деплоя в разные окружения. 
2. База данных должна быть отказоустойчивой. Потребляет 4 ГБ ОЗУ в работе, 1 ядро. 3 копии. 
3. Кеш должен быть отказоустойчивый. Потребляет 4 ГБ ОЗУ в работе, 1 ядро. 3 копии. 
4. Фронтенд обрабатывает внешние запросы быстро, отдавая статику. Потребляет не более 50 МБ ОЗУ на каждый экземпляр, 0.2 ядра. 5 копий. 
5. Бекенд потребляет 600 МБ ОЗУ и по 1 ядру на копию. 10 копий.

### Решение
1. Расчет ресурсов для каждого сервиса:  

| Наименование | Mem (Mb) | CPU (core) | Кол-во реплик | Итого: Mem (Gb) / CPU |  
|-------------|-------|-----|-----|-----------|
| База данных |  4096 | 1   |  3  | 12 / 3    |  
|  Кеш        |  4096 | 1   |  3  |  12 / 3   |  
|  Фронтенд   |  50   | 0.2 |  5  |  0,25 / 1 |  
|  Бекенд     | 600   |  1  |  10 | 6 / 10    |  
| Всего       | -     | -   | -   |31 / 17 cores|

2. Разделение ресурсов на ноды:

| Наименование | Mem (Gb) | CPU (core) | Резерв  Mem(Gb) / CPU |Кол-во копий на Node| Кол-во Node | Node (Mem(Gb) / CPU) |  
|---------------------|---|-----|--------|--------------|---|--------|
| База данных +  кеш  | 8 |  2  | 8 / 2  | bd-1, cache-1| 3 | 16 / 4* |   
|  Фронтенд + Бекенд  | 2 |  4  | 2 / 2  |  fr-2, bk-3  | 3 |  6 / 6* | 

Итого для работы всех сервисов неодходимо:  
- 2 ноды для БД и кэш с характеристиками Mem (Gb) 16 и CPU 4 шт
- 3 ноды для фронтенд + бекенд с характеристиками Mem (Gb) 6 и CPU 6 шт

*- Количество оперативной памяти и процессоров выбрано исходя из возможной конфигурации VM в облаке YC.